<!-- 
    1.项目环境搭建
        1. 建立项目所需文件夹
            public 静态资源
            model 数据库操作
            route 路由
            views 模板
        2. 初始化项目描述文件
            npm init -y
        3. 下载项目所需第三方模块
            npm install express mongoose art-template express-art-template
        4. 创建网站服务器
        5. 构建模块化路由
        6. 构建博客管理页面模板
        7.新问题
            1.多级路由下静态资源中相对地址问题
                1.问题
                    1.访问：http://localhost:3000/admin/login
                    2.此时浏览器默认login为一个文件，admin为静态文件的相对地址
                    3.<link rel="stylesheet" href="css/base.css">
                    4.此时静态请求会在设置好的public目录下查找：admin/css/base.css文件
                2.解决
                    1.设置静态资源为绝对地址，相对于静态路径的
                    2.<link rel="stylesheet" href="/admin/css/base.css">
            2.模板优化
                1.使用模板引擎的子模板和模板继承，将art文件的公共部分进行优化
        8.req获取到服务器对象
            1.req.服务器对象名的方式获取到服务器对象
    2.项目功能实现
        1.登陆
            1.细节
                1. 创建用户集合，初始化用户
                    1.连接数据库
                    2.创建用户集合
                    3.初始化用户
                2. 为登录表单项设置请求地址、请求方式以及表单项name属性
                3. 当用户点击登录按钮时，客户端验证用户是否填写了登录表单
                    1.trim()去除字符串两端的空格符号
                    2.jQuery中serializeArray()函数返回值是页面中所有表单的数据
                    3.封装函数，参数为表单对象，返回值为表单中的数据，转化为对象的形式
                        1.serializeToJson()
                4. 如果其中一项没有输入，阻止表单提交
                5. 服务器端接收请求参数，验证用户是否填写了登录表单
                    1.客户端可以阻止js验证
                    2.需要服务器端二次验证
                6. 如果其中一项没有输入，为客户端做出响应，阻止程序向下执行
                7. 根据邮箱地址查询用户信息
                8. 如果用户不存在，为客户端做出响应，阻止程序向下执行
                    1.为客户端响应邮件地址或密码错误
                    2.为了防止恶意的猜邮箱地址和密码
                9. 如果用户存在，将用户名和密码进行比对
                10. 比对成功，用户登录成功
                11. 比对失败，用户登录失败
                12. 保存登录状态
                13. 密码加密处理 
            2.登陆拦截
                1.拦截请求判断用户登录状态
                app.use('/admin', (req, res, next) => {
                    // 1.判断用户访问的是否是登陆页面
                    // 2.判断用户的登陆状态
                    if (req.url != '/login' && !req.session.username) {
                        // 4.如果用户不是登陆的，将请求重定向到登陆界面
                        res.redirect('/admin/login')
                    } else {
                        // 3.如果用户是登陆状态，将请求放行
                        next();
                    }
                });
            3.密码加密
                1.密码加密bcrypt
                2.数据库中密码不能使用明文存储
        2.新增用户
            1.细节
                1. 为用户列表页面的新增用户按钮添加链接
                2. 添加一个连接对应的路由，在路由处理函数中渲染新增用户模板
                3 .为新增用户表单指定请求地址、请求方式、为表单项添加name属性
                4. 增加实现添加用户的功能路由
                5. 接收到客户端传递过来的请求参数
                6. 对请求参数的格式进行验证
                7. 验证当前要注册的邮箱地址是否已经注册过
                8. 对密码进行加密处理
                9. 将用户信息添加到数据库中
                10. 重定向页面到用户列表页面
        3.数据分页
        4.用户信息修改
            1. 将要修改的用户ID传递到服务器端
            2. 建立用户信息修改功能对应的路由
            3. 接收客户端表单传递过来的请求参数 
            4. 根据id查询用户信息，并将客户端传递过来的密码和数据库中的密码进行比对
            5. 如果比对失败，对客户端做出响应
            6. 如果密码对比成功，将用户信息更新到数据库中
        5.用户信息删除
            1. 在确认删除框中添加隐藏域用以存储要删除用户的ID值
            2. 为删除按钮添自定义属性用以存储要删除用户的ID值
            3. 为删除按钮添加点击事件，在点击事件处理函数中获取自定义属性中存储的ID值并将ID值存储在表单的隐藏域中
            4. 为删除表单添加提交地址以及提交方式
            5. 在服务器端建立删除功能路由
            6. 接收客户端传递过来的id参数
            7. 根据id删除用户
        6. 文章评论
            1.创建评论集合
            2.判断用户是否登录，如果用户登录，再允许用户提交评论表单
            3.在服务器端创建文章评论功能对应的路由
            4.在路由请求处理函数中接收客户端传递过来的评论信息
            5.将评论信息存储在评论集合中
            6.将页面重定向回文章详情页面
            7.在文章详情页面路由中获取文章评论信息并展示在页面中







    



 -->